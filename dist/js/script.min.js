function centralStarStart(importFunction){var sky,star,stars;function starStart(){star=$(".star-svg"),new TweenLite.to(star,2,{opacity:1,onComplete:rotate})}function rotate(){var gravity=$("#gravity"),coreEnergy=$("#core-energy");new TimelineMax({repeat:-1}).to(gravity,2,{rotation:180,svgOrigin:"197 187"}).to(gravity,2,{rotation:0,svgOrigin:"197 187"}),new TimelineMax({repeat:-1,delay:1}).to(coreEnergy,2,{rotation:180,svgOrigin:"197 187"}).to(coreEnergy,2,{rotation:0,svgOrigin:"197 187"})}sky=$("#elem-sky"),stars=sky.find("*"),new TweenMax.staggerTo(stars,2,{opacity:0,autoAlpha:0},0),(new TimelineLite).to(sky,1,{background:"white",opacity:0}).to(sky,1,{opacity:1}),$("body").css("background-color","white"),setTimeout(function(){importFunction("star-start",sky,starStart)},1500),setTimeout(function(){var sky,explanation;sky=$("#elem-sky"),centralStarTextChange(0,explanation=$('<div class="star-explanation"></div>')),sky.append(explanation)},2500)}function centralStarSupernova(){var explanation=$(".star-explanation"),gravity=$("#gravity"),coreEnergy=$("#core-energy"),arrows=$("#arrows");TweenLite.to(gravity,2,{opacity:0,autoAlpha:0}),TweenLite.to(coreEnergy,2,{opacity:0,autoAlpha:0}),TweenLite.to(arrows,2,{opacity:0,autoAlpha:0}),TweenLite.to(explanation,2,{opacity:0,onComplete:function(){centralStarTextChange(1,explanation)}})}function centralStarOne(){var explanation=$(".star-explanation");TweenLite.to(explanation,2,{opacity:0,onComplete:function(){centralStarTextChange(2,explanation)}})}function centralStarTextChange(n,target){target.empty(),target.append(['<p>A starâ€™s external <span class="oker">gravity</span></p>&#13;<p>and internal core <span class="oker">energy</span> put pressure on one another</p>','<p>resulting in a supernova</p>&#13;<p>and one of <span class="oker">two</span> endothermic processes</p>',"<p>---Work In Progress -- Demo ends here---</p>"][n]),centralStarText(target)}function centralStarSwitch(argument){var importFunction=argument[0],oldStarName=argument[1],newStarName=argument[2],sky=$("#elem-sky"),oldStar=$("#"+oldStarName+"-svg");TweenLite.to(oldStar,1,{opacity:0,autoAlpha:0},function(){oldStar.remove()}),importFunction(newStarName,sky,function(){var newStar=$("#"+newStarName+"-svg");TweenLite.to(newStar,1,{opacity:1})})}function elementsCreation(importFunction){var sky=$("#elem-sky"),skyWidth=sky.width(),skyHeight=sky.height(),letters=$("#circle-text span").toArray().reverse(),he=$(".start-helium"),h=$(".start-hydrogen"),tl=new TimelineLite;function generateElement(elementCoord){if("circle"===elementCoord.type){var element=$('<div class="elem"/>');$(element).css({width:parseFloat(elementCoord.width)*skyWidth/100,height:parseFloat(elementCoord.width)*skyWidth/100,left:parseFloat(elementCoord.left)*skyWidth/100,top:parseFloat(elementCoord.top)*skyHeight/100,"z-index":10,opacity:0});var bg=$('<div class="elem-bg"/>'),symbol=.3<Math.random()?"H":"He",txt=$('<p class="elem-text">'+symbol+"</p>");return $(bg).css({opacity:elementCoord.opacity}),$(txt).css({"font-size":Math.round(parseFloat(elementCoord.width)*skyWidth/275),"font-family":"ConcourseT6, sans-serif"}),$(element).append(bg),$(element).append(txt),element}}tl.staggerTo(letters,.25,{opacity:0,autoAlpha:0},.01).to(he,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0},.2).to(h,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0},.2),elementsCoordinates.map(generateElement).map(function(element,index){$(element).attr("id",index),sky.append(element);var diff=random(0,1.2);tl.to(element,2,{opacity:1},"elements+="+diff)}),elementsText(1),setTimeout(function(){importFunction("protostar-small",sky)},2e3)}function elementsText(number,hideDuration){var letters,tl;void 0===hideDuration&&(hideDuration=.5),tl=new TimelineLite,1<number&&function(number){var elemText=$(".elements-explanation.el-ex-"+number).toArray();tl.staggerTo(elemText,hideDuration,{opacity:0,autoAlpha:0})}(number-1);var elemText=$(".elements-explanation.el-ex-"+number);if(0<elemText.length){$(elemText).lettering(),letters=$(".elements-explanation.el-ex-"+number+" span").toArray(),tl.to(elemText,1,{opacity:1}).staggerTo(letters,.2,{background:"#fff",color:"#0D1635"},.025);var elem=$(".elem-section");tl=new TimelineLite,$(elem).lettering(),letters=$(".elem span").toArray(),tl.to(elem,1,{opacity:1})}}function centralStarText(target,hideDuration){var letters,tl;if(void 0===hideDuration&&(hideDuration=.5),tl=new TimelineLite,0<target.length){$(target).lettering(),letters=target.children().toArray(),tl.to(target,1,{opacity:1}).staggerTo(letters,.2,{background:"#FFEA00",color:"#0D1635"},.025);var elem=$(".elem-section");tl=new TimelineLite,$(elem).lettering(),letters=$(".elem span").toArray(),tl.to(elem,1,{opacity:1})}}function introOpening(intro){intro=$(".intro");(new TimelineLite).from(intro,.6,{y:"400px",ease:Back.easeOut.config(1)})}function introToStart(){var tl=new TimelineLite,intro=$(".intro"),topFirst=$(".start-top__first"),topSecond=$(".start-top__second"),bottom=$(".start-bottom"),he=$(".start-helium"),h=$(".start-hydrogen");tl.to(intro,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0}).add("topFirst","-=0.5").to(topFirst,.5,{opacity:1},"topFirst").from(topFirst,.5,{y:"30px",ease:Back.easeOut.config(1.4)},"topFirst").add("topSecond","-=0.25").to(topSecond,.5,{opacity:1},"topSecond").from(topSecond,.5,{y:"30px",ease:Back.easeOut.config(1.4)},"topSecond").add("bottom").to(bottom,.5,{opacity:1},"bottom").from(bottom,.5,{y:"30px",ease:Back.easeOut.config(1.4)},"bottom").add("helium","-=0.25").to(he,.5,{opacity:1},"helium").from(he,.5,{y:"30px",ease:Back.easeOut.config(4)},"helium").add("hydrogen","-=0.05").to(h,.5,{opacity:1},"hydrogen").from(h,.5,{y:"30px",ease:Back.easeOut.config(4)},"hydrogen")}function startToCircleText(){var tl=new TimelineLite,topFirst=$(".start-top__first"),topSecond=$(".start-top__second"),bottom=$(".start-bottom"),circleText=($(".start-helium"),$(".start-hydrogen"),$("#circle-text"));tl.add("fade").to(topFirst,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0},"fade").to(topSecond,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0},"fade").to(bottom,1,{opacity:0,ease:Power2.easeOut,autoAlpha:0},"fade").to(circleText,1,{opacity:1,ease:Power2.easeOut},"fade")}var starCoordinates=[{height:"3.65",left:"23.29",top:"1.32",width:"1.09"},{height:"4.56",left:"29.10",top:"4.68",width:"1.40"},{height:"4.56",left:"47.54",top:"2.29",width:"1.40"},{height:"3.13",left:"47.54",top:"4.00",width:"0.93"},{height:"3.13",left:"30.01",top:"0.01",width:"0.93"},{height:"4.56",left:"11.49",top:"0.32",width:"1.94"},{height:"4.56",left:"43.98",top:"5.59",width:"1.40"},{height:"2.08",left:"43.98",top:"8.74",width:"0.85"},{height:"2.86",left:"56.96",top:"4.92",width:"0.85"},{height:"2.60",left:"67.38",top:"6.00",width:"0.78"},{height:"1.82",left:"59.86",top:"6.57",width:"0.62"},{height:"1.82",left:"59.86",top:"7.43",width:"0.62"},{height:"4.69",left:"56.96",top:"8.32",width:"1.78"},{height:"5.73",left:"48.20",top:"6.92",width:"1.71"},{height:"7.03",left:"22.07",top:"8.07",width:"2.02"},{height:"2.60",left:"25.96",top:"3.24",width:"1.40"},{height:"1.43",left:"22.74",top:"3.75",width:"0.78"},{height:"2.60",left:"24.64",top:"6.09",width:"1.40"},{height:"1.82",left:"13.81",top:"6.57",width:"0.62"},{height:"3.65",left:"10.58",top:"8.38",width:"1.16"},{height:"9.38",left:"64.65",top:"1.53",width:"2.79"},{height:"4.56",left:"56.96",top:"0.88",width:"1.40"},{height:"3.13",left:"68.13",top:"0.00",width:"1.47"},{height:"2.21",left:"46.88",top:"0.88",width:"0.93"},{height:"8.59",left:"74.49",top:"0.96",width:"2.48"},{height:"1.82",left:"85.65",top:"0.50",width:"0.70"},{height:"1.82",left:"63.16",top:"2.18",width:"0.70"},{height:"1.82",left:"95.00",top:"0.50",width:"0.70"},{height:"1.82",left:"95.00",top:"6.13",width:"0.70"},{height:"1.82",left:"95.00",top:"8.56",width:"0.70"},{height:"5.08",left:"91.44",top:"8.74",width:"1.86"},{height:"1.82",left:"88.22",top:"0.32",width:"0.70"},{height:"3.52",left:"85.65",top:"4.68",width:"1.24"},{height:"4.95",left:"60.19",top:"3.39",width:"1.47"},{height:"9.38",left:"37.45",top:"1.53",width:"2.79"},{height:"5.34",left:"37.45",top:"4.24",width:"1.63"},{height:"1.82",left:"34.48",top:"8.93",width:"0.62"},{height:"6.38",left:"34.72",top:"7.10",width:"2.79"},{height:"9.64",left:"70.52",top:"7.29",width:"2.87"},{height:"4.43",left:"2.23",top:"1.47",width:"1.24"},{height:"1.43",left:"0.00",top:"0.01",width:"0.47"},{height:"3.13",left:"11.16",top:"2.75",width:"1.24"},{height:"4.56",left:"2.23",top:"4.07",width:"1.40"},{height:"13.02",left:"86.31",top:"1.53",width:"3.80"},{height:"7.16",left:"93.26",top:"4.04",width:"2.09"},{height:"7.68",left:"79.53",top:"5.70",width:"2.25"},{height:"4.69",left:"76.97",top:"8.85",width:"2.25"},{height:"13.02",left:"86.31",top:"7.13",width:"3.80"},{height:"4.69",left:"74.49",top:"3.88",width:"1.94"},{height:"4.69",left:"84.00",top:"3.43",width:"1.94"},{height:"2.47",left:"72.34",top:"3.38",width:"1.01"},{height:"13.41",left:"1.24",top:"6.77",width:"3.95"},{height:"4.69",left:"13.72",top:"4.68",width:"1.40"},{height:"2.60",left:"67.55",top:"8.32",width:"1.40"}],elementsCoordinates=[{height:"10.44",left:"11.16",opacity:"0.7",top:"3.26",type:"circle",width:"6.23"},{height:"13.32",left:"0.00",opacity:"0.07",top:"27.86",type:"circle",width:"7.94"},{height:"8.64",left:"13.72",opacity:"0.74",top:"47.27",type:"circle",width:"5.15"},{height:"5.59",left:"14.65",opacity:"0.74",top:"66.41",type:"circle",width:"3.33"},{height:"9.62",left:"2.17",opacity:"0.22",top:"72.14",type:"circle",width:"5.74"},{height:"5.59",left:"25.50",opacity:"0.26",top:"61.98",type:"circle",width:"3.33"},{height:"7.54",left:"31.47",opacity:"0.47",top:"21.22",type:"circle",width:"4.50"},{height:"8.58",left:"38.06",opacity:"0.25",top:"18.36",type:"circle",width:"5.12"},{height:"6.76",left:"47.21",opacity:"0.25",top:"9.11",type:"circle",width:"4.03"},{height:"6.76",left:"48.06",opacity:"0.85",top:"24.35",type:"circle",width:"4.03"},{height:"3.65",left:"64.26",opacity:"0.67",top:"23.70",type:"circle",width:"2.17"},{height:"5.60",left:"61.08",opacity:"0.06",top:"36.20",type:"circle",width:"3.34"},{height:"7.41",left:"66.05",opacity:"0.22",top:"18.10",type:"circle",width:"4.42"},{height:"10.66",left:"74.34",opacity:"0.57",top:"11.20",type:"circle",width:"6.36"},{height:"8.32",left:"74.81",opacity:"0.23",top:"39.45",type:"circle",width:"4.96"},{height:"4.42",left:"73.33",opacity:"0.48",top:"35.29",type:"circle",width:"2.64"},{height:"4.42",left:"86.43",opacity:"0.57",top:"5.99",type:"circle",width:"2.64"},{height:"2.86",left:"89.61",opacity:"0.25",top:"5.34",type:"circle",width:"1.66"},{height:"3.26",left:"96.21",opacity:"0.56",top:"7.03",type:"circle",width:"1.89"},{height:"6.24",left:"57.67",opacity:"0.08",top:"10.42",type:"circle",width:"3.72"},{height:"6.11",left:"26.67",opacity:"0.05",top:"33.33",type:"circle",width:"3.64"},{height:"6.76",left:"19.53",opacity:"0.12",top:"34.38",type:"circle",width:"4.03"},{height:"4.43",left:"23.79",opacity:"0.35",top:"38.93",type:"circle",width:"2.64"},{height:"6.84",left:"11.63",opacity:"0.58",top:"28.52",type:"circle",width:"4.08"},{height:"5.72",left:"3.02",opacity:"0.63",top:"42.84",type:"circle",width:"3.41"},{height:"6.30",left:"2.79",opacity:"0.7",top:"16.15",type:"circle",width:"3.76"},{height:"6.30",left:"0.23",opacity:"0.7",top:"0.39",type:"circle",width:"3.76"},{height:"6.30",left:"9.02",opacity:"0.23",top:"21.53",type:"circle",width:"3.76"},{height:"4.86",left:"26.20",opacity:"0.7",top:"11.33",type:"circle",width:"2.90"},{height:"4.86",left:"30.85",opacity:"0.7",top:"1.95",type:"circle",width:"2.90"},{height:"7.81",left:"29.30",opacity:"0.8",top:"47.79",type:"circle",width:"4.66"},{height:"7.81",left:"37.83",opacity:"0.04",top:"43.75",type:"circle",width:"4.66"},{height:"8.06",left:"68.30",opacity:"0.57",top:"0.00",type:"circle",width:"4.80"},{height:"6.76",left:"20.00",opacity:"0.33",top:"22.27",type:"circle",width:"4.03"},{height:"5.59",left:"11.32",opacity:"0.18",top:"85.55",type:"circle",width:"3.33"},{height:"7.81",left:"22.56",opacity:"0.95",top:"82.94",type:"circle",width:"4.66"},{height:"7.41",left:"44.26",opacity:"0.61",top:"57.16",type:"circle",width:"4.42"},{height:"9.49",left:"79.69",opacity:"0.09",top:"58.72",type:"circle",width:"5.66"},{height:"8.06",left:"67.29",opacity:"0.09",top:"60.16",type:"circle",width:"4.80"},{height:"6.89",left:"59.84",opacity:"0.29",top:"74.61",type:"circle",width:"4.11"},{height:"9.10",left:"48.14",opacity:"0.13",top:"70.31",type:"circle",width:"5.43"},{height:"12.61",left:"86.28",opacity:"0.73",top:"74.22",type:"circle",width:"7.52"},{height:"7.04",left:"92.09",opacity:"0.23",top:"89.06",type:"circle",width:"4.20"},{height:"4.29",left:"95.97",opacity:"0.07",top:"87.11",type:"circle",width:"2.56"},{height:"5.99",left:"57.83",opacity:"0.68",top:"85.42",type:"circle",width:"3.57"},{height:"5.99",left:"44.42",opacity:"0.29",top:"88.28",type:"circle",width:"3.57"},{height:"12.11",left:"86.36",opacity:"0.48",top:"18.49",type:"circle",width:"7.22"},{height:"7.81",left:"84.50",opacity:"0.72",top:"35.29",type:"circle",width:"4.66"},{height:"7.81",left:"93.88",opacity:"1",top:"42.71",type:"circle",width:"4.66"},{height:"5.85",left:"95.43",opacity:"0.69",top:"61.85",type:"circle",width:"3.49"},{height:"5.72",left:"57.52",opacity:"0.61",top:"50.52",type:"circle",width:"3.41"},{height:"5.72",left:"86.43",opacity:"0.14",top:"48.05",type:"circle",width:"3.41"},{height:"5.60",left:"72.10",opacity:"0.38",top:"77.60",type:"circle",width:"3.34"},{height:"6.64",left:"77.98",opacity:"0.38",top:"90.10",type:"circle",width:"3.96"},{height:"4.69",left:"68.68",opacity:"0.17",top:"84.77",type:"circle",width:"2.80"},{height:"8.71",left:"35.35",opacity:"0.32",top:"72.40",type:"circle",width:"5.19"}],atomicNuclei=[{width:"0.03",xPos:"0.27",yPos:"-0.80"},{width:"0.03",xPos:"0.23",yPos:"-0.69"},{width:"0.03",xPos:"0.31",yPos:"-0.69"},{width:"0.03",xPos:"-0.04",yPos:"-0.90"},{width:"0.03",xPos:"-0.21",yPos:"-0.83"},{width:"0.03",xPos:"-0.27",yPos:"-0.78"},{width:"0.03",xPos:"-0.10",yPos:"-0.80"},{width:"0.03",xPos:"0.10",yPos:"-0.84"},{width:"0.03",xPos:"-0.89",yPos:"0.15"},{width:"0.03",xPos:"-0.75",yPos:"-0.22"},{width:"0.03",xPos:"-0.80",yPos:"0.24"},{width:"0.03",xPos:"-0.80",yPos:"0.07"},{width:"0.03",xPos:"-0.76",yPos:"0.18"},{width:"0.03",xPos:"-0.90",yPos:"-0.04"},{width:"0.03",xPos:"-0.71",yPos:"0.02"},{width:"0.03",xPos:"-0.83",yPos:"-0.08"},{width:"0.04",xPos:"0.88",yPos:"-0.11"},{width:"0.04",xPos:"0.70",yPos:"-0.15"},{width:"0.04",xPos:"0.81",yPos:"-0.01"},{width:"0.04",xPos:"0.76",yPos:"-0.53"},{width:"0.04",xPos:"0.58",yPos:"-0.63"},{width:"0.04",xPos:"0.49",yPos:"-0.65"},{width:"0.04",xPos:"0.63",yPos:"-0.51"},{width:"0.04",xPos:"0.73",yPos:"-0.27"},{width:"0.03",xPos:"-0.73",yPos:"-0.57"},{width:"0.03",xPos:"-0.34",yPos:"-0.48"},{width:"0.03",xPos:"-0.81",yPos:"-0.48"},{width:"0.03",xPos:"-0.64",yPos:"-0.50"},{width:"0.03",xPos:"-0.75",yPos:"-0.44"},{width:"0.03",xPos:"-0.54",yPos:"-0.61"},{width:"0.03",xPos:"-0.58",yPos:"-0.41"},{width:"0.03",xPos:"-0.50",yPos:"-0.54"},{width:"0.03",xPos:"-0.28",yPos:"0.75"},{width:"0.03",xPos:"-0.23",yPos:"0.64"},{width:"0.03",xPos:"-0.31",yPos:"0.64"},{width:"0.03",xPos:"0.03",yPos:"0.85"},{width:"0.03",xPos:"0.19",yPos:"0.78"},{width:"0.03",xPos:"0.26",yPos:"0.73"},{width:"0.03",xPos:"0.09",yPos:"0.75"},{width:"0.03",xPos:"-0.11",yPos:"0.79"},{width:"0.03",xPos:"0.88",yPos:"-0.15"},{width:"0.03",xPos:"0.73",yPos:"0.22"},{width:"0.03",xPos:"0.79",yPos:"-0.24"},{width:"0.03",xPos:"0.79",yPos:"-0.07"},{width:"0.03",xPos:"0.75",yPos:"-0.18"},{width:"0.03",xPos:"0.89",yPos:"0.04"},{width:"0.03",xPos:"0.70",yPos:"-0.02"},{width:"0.03",xPos:"0.82",yPos:"0.08"},{width:"0.04",xPos:"-0.87",yPos:"0.23"},{width:"0.04",xPos:"-0.68",yPos:"0.24"},{width:"0.04",xPos:"-0.82",yPos:"0.12"},{width:"0.04",xPos:"-0.66",yPos:"0.62"},{width:"0.04",xPos:"-0.47",yPos:"0.68"},{width:"0.04",xPos:"-0.38",yPos:"0.69"},{width:"0.04",xPos:"-0.54",yPos:"0.58"},{width:"0.04",xPos:"-0.68",yPos:"0.37"},{width:"0.03",xPos:"0.81",yPos:"0.40"},{width:"0.03",xPos:"0.41",yPos:"0.38"},{width:"0.03",xPos:"0.87",yPos:"0.28"},{width:"0.03",xPos:"0.70",yPos:"0.34"},{width:"0.03",xPos:"0.80",yPos:"0.26"},{width:"0.03",xPos:"0.63",yPos:"0.47"},{width:"0.03",xPos:"0.63",yPos:"0.26"},{width:"0.03",xPos:"0.57",yPos:"0.41"},{width:"0.06",xPos:"0.46",yPos:"-0.69"},{width:"0.06",xPos:"-0.08",yPos:"0.67"},{width:"0.06",xPos:"0.28",yPos:"0.67"},{width:"0.06",xPos:"0.50",yPos:"0.45"},{width:"0.06",xPos:"0.08",yPos:"0.61"},{width:"0.06",xPos:"0.52",yPos:"0.61"},{width:"0.06",xPos:"0.72",yPos:"0.21"},{width:"0.06",xPos:"0.58",yPos:"0.21"},{width:"0.06",xPos:"-0.60",yPos:"0.15"},{width:"0.06",xPos:"0.86",yPos:"-0.01"},{width:"0.06",xPos:"0.69",yPos:"-0.33"},{width:"0.06",xPos:"0.39",yPos:"-0.41"},{width:"0.06",xPos:"0.73",yPos:"-0.13"},{width:"0.06",xPos:"0.52",yPos:"-0.52"},{width:"0.06",xPos:"0.07",yPos:"-0.50"},{width:"0.06",xPos:"0.14",yPos:"-0.38"},{width:"0.06",xPos:"-0.38",yPos:"0.55"},{width:"0.06",xPos:"0.00",yPos:"-0.87"},{width:"0.06",xPos:"-0.36",yPos:"-0.82"},{width:"0.06",xPos:"-0.55",yPos:"-0.57"},{width:"0.06",xPos:"-0.15",yPos:"-0.79"},{width:"0.06",xPos:"-0.59",yPos:"-0.74"},{width:"0.06",xPos:"-0.74",yPos:"-0.30"},{width:"0.06",xPos:"-0.60",yPos:"-0.32"},{width:"0.06",xPos:"0.58",yPos:"-0.41"},{width:"0.06",xPos:"-0.85",yPos:"-0.07"},{width:"0.06",xPos:"-0.64",yPos:"0.22"},{width:"0.06",xPos:"-0.33",yPos:"0.27"},{width:"0.06",xPos:"-0.71",yPos:"0.03"},{width:"0.06",xPos:"-0.46",yPos:"0.39"},{width:"0.06",xPos:"-0.01",yPos:"0.31"},{width:"0.06",xPos:"-0.09",yPos:"0.20"}];function randomInt(max,min){return null==min&&(min=0),Math.floor(random(max,min))}function random(max,min){return null==min&&(min=0),Math.random()*(max-min)+min}function generateRandomStar(){var skyWidth=sky.width(),skyHeight=sky.height(),minStarWidth=Math.floor(skyWidth/200),maxStarWidth=Math.floor(skyWidth/30),maxStarHeight=2*maxStarWidth,minStarHeight=Math.floor(1.2*maxStarWidth),xPos=randomInt(maxStarWidth,skyWidth-maxStarWidth),yPos=randomInt(maxStarHeight,skyHeight-maxStarHeight),starWidth=randomInt(minStarWidth,maxStarWidth),starHeight=randomInt(maxStarHeight,minStarHeight),star=$('<div class="star"/>');return $(star).css({width:starWidth,height:starHeight,left:xPos,top:yPos}),star}function oneStar(importFunction){elementsText(2);var star,bg,skyWidth,skyHeight,tl_one,tl_two,boundingRectProtostar,radius,sky=$("#elem-sky"),scale=6.3;function moveElementToCenter(element){var elementText=$(element).find(".elem-text"),elementBackground=$(element).find(".elem-bg"),nucleus=atomicNuclei.sort(function(){return.5-Math.random()}).pop(),bgColor=.04<nucleus.width?"#FF0000":"white",elementWidth=nucleus.width*radius,elementLeft=skyWidth/2+radius*parseFloat(nucleus.xPos),elementTop=skyHeight/2+radius*parseFloat(nucleus.yPos);tl_two.to(elementText,1,{opacity:0,autoAlpha:0},"moveElementAwayFromCenter+=2").to(elementBackground,2,{css:{background:bgColor}},"moveElementAwayFromCenter+=2").to(element,2,{css:{width:elementWidth,height:elementWidth,top:elementTop,left:elementLeft}},"moveElementAwayFromCenter+=2")}function moveElementAwayFromCenter(element){var topSign,leftSign,diffX=element.offsetLeft-skyWidth/2,diffY=element.offsetTop-skyHeight/2,distX=.1*(skyWidth-Math.abs(diffX)),distY=.1*(skyHeight-Math.abs(diffY));topSign=diffY<0?"-=":"+=",leftSign=diffX<0?"-=":"+=",tl_two.to(element,3,{css:{top:topSign+distY+"px",left:leftSign+distX+"px"}},"moveElementAwayFromCenter")}function elementsMove(movementFunction){$(".elem").map(function(index,element){movementFunction(element)}),elementsText(1)}!function(){star=$(".protostar"),bg=$("#protostar-bg"),skyWidth=sky.width(),skyHeight=sky.height(),boundingRectProtostar=bg[0].getBoundingClientRect(),radius=boundingRectProtostar.width/2*scale,tl_one=new TimelineLite({delay:2});var protoText=$("#protostar-text");tl_one.to(protoText,1,{opacity:0,autoAlpha:0},"disappear");var h=$("#protostar-h");tl_one.to(h,1,{opacity:0,autoAlpha:0},"disappear"),tl_one.to(star,3,{opacity:1,scale:scale,transformOrigin:"50% 50%"}),tl_one.to(bg,2,{background:"#CB5822",opacity:1},"-=2"),tl_two=new TimelineLite({delay:3}),elementsMove(moveElementToCenter),elementsMove(moveElementAwayFromCenter)}()}$.fn.circleType=function(a){var c={dir:1,position:"relative"};return"function"!=typeof $.fn.lettering?void console.log("Lettering.js is required"):this.each(function(){a&&$.extend(c,a);var h,i,b=this,d=180/Math.PI,e=parseInt($(b).css("font-size"),10),f=parseInt($(b).css("line-height"),10)||e,g=b.innerHTML.replace(/^\s+|\s+$/g,"").replace(/\s/g,"&nbsp;");b.innerHTML=g,$(b).lettering(),b.style.position=c.position,h=b.getElementsByTagName("span"),i=Math.floor(h.length/2);var j=function(){var g,j,k,m,n,o,q,a=0,i=0;for(g=0;g<h.length;g++)a+=h[g].offsetWidth;for(j=a/Math.PI/2+f,c.fluid&&!c.fitText?c.radius=Math.max(b.offsetWidth/2,j):c.radius||(c.radius=j),k=-1===c.dir?"center "+(-c.radius+f)/e+"em":"center "+c.radius/e+"em",m=c.radius-f,g=0;g<h.length;g++)i+=(n=h[g]).offsetWidth/2/m*d,n.rot=i,i+=n.offsetWidth/2/m*d;for(g=0;g<h.length;g++)o=(n=h[g]).style,q="rotate("+(-i*c.dir/2+n.rot*c.dir)+"deg)",o.position="absolute",o.left="50%",o.marginLeft=-n.offsetWidth/2/e+"em",o.webkitTransform=q,o.MozTransform=q,o.OTransform=q,o.msTransform=q,o.transform=q,o.webkitTransformOrigin=k,o.MozTransformOrigin=k,o.OTransformOrigin=k,o.msTransformOrigin=k,o.transformOrigin=k,-1===c.dir&&(o.bottom=0);c.fitText&&("function"!=typeof $.fn.fitText?console.log("FitText.js is required when using the fitText option"):($(b).fitText(),$(window).resize(function(){l()}))),l(),"function"==typeof c.callback&&c.callback.apply(b)},k=function(a){var b=document.documentElement,c=a.getBoundingClientRect();return{top:c.top+window.pageYOffset-b.clientTop,left:c.left+window.pageXOffset-b.clientLeft,height:c.height}},l=function(){var d,a=k(h[i]),c=k(h[0]);d=a.top<c.top?c.top-a.top+c.height:a.top-c.top+c.height,b.style.height=d+"px"};c.fluid&&!c.fitText&&$(window).on("resize",function(){j()}),"complete"!==document.readyState?(b.style.visibility="hidden",$(window).on("load",function(){b.style.visibility="visible",j()})):j()})},function($){function injector(t,splitter,klass,after){var a=t.text().split(splitter),inject="";a.length&&($(a).each(function(i,item){inject+='<span class="'+klass+(i+1)+'">'+item+"</span>"+after}),t.empty().append(inject))}var methods={init:function(){return this.each(function(){injector($(this),"","char","")})},words:function(){return this.each(function(){injector($(this)," ","word"," ")})},lines:function(){return this.each(function(){var r="eefec303079ad17405c889e092e105b0";injector($(this).children("br").replaceWith(r).end(),r,"line","")})}};$.fn.lettering=function(method){return method&&methods[method]?methods[method].apply(this,[].slice.call(arguments,1)):"letters"!==method&&method?($.error("Method "+method+" does not exist on jQuery.lettering"),this):methods.init.apply(this,[].slice.call(arguments,0))}}(jQuery);var WheelIndicator=function(win,doc){var eventWheel="onwheel"in doc?"wheel":"mousewheel",DEFAULTS={callback:function(){},elem:doc,preventMouse:!0};function Module(options){this._options=extend(DEFAULTS,options),this._deltaArray=[0,0,0],this._isAcceleration=!1,this._isStopped=!0,this._direction="",this._timer="",this._isWorking=!0;var elem,type,handler,self=this;this._wheelHandler=function(event){self._isWorking&&(function(event){var self=this,delta=getDeltaY(event);if(0===delta)return;var i,direction=0<delta?"down":"up",arrayLength=self._deltaArray.length,changedDirection=!1,repeatDirection=0;for(clearTimeout(self._timer),self._timer=setTimeout(function(){self._deltaArray=[0,0,0],self._isStopped=!0,self._direction=direction},150),i=0;i<arrayLength;i++)0!==self._deltaArray[i]&&(0<self._deltaArray[i]?++repeatDirection:--repeatDirection);Math.abs(repeatDirection)===arrayLength&&(0<repeatDirection?"down":"up")!==self._direction&&(changedDirection=!0,self._direction=direction);self._isStopped||(changedDirection?(self._isAcceleration=!0,triggerEvent.call(this,event)):Math.abs(repeatDirection)===arrayLength&&function(event){var deltaArray0Abs=Math.abs(this._deltaArray[0]),deltaArray1Abs=Math.abs(this._deltaArray[1]),deltaArray2Abs=Math.abs(this._deltaArray[2]),deltaAbs=Math.abs(getDeltaY(event));deltaArray2Abs<deltaAbs&&deltaArray1Abs<deltaArray2Abs&&deltaArray0Abs<deltaArray1Abs&&(this._isAcceleration||(triggerEvent.call(this,event),this._isAcceleration=!0));deltaAbs<deltaArray2Abs&&deltaArray2Abs<=deltaArray1Abs&&(this._isAcceleration=!1)}.call(this,event));self._isStopped&&(self._isStopped=!1,self._isAcceleration=!0,self._direction=direction,triggerEvent.call(this,event));self._deltaArray.shift(),self._deltaArray.push(delta)}.call(self,event),self._options.preventMouse&&function(event){(event=event||win.event).preventDefault?event.preventDefault():event.returnValue=!1}(event))},elem=this._options.elem,type=eventWheel,handler=this._wheelHandler,elem.addEventListener?elem.addEventListener(type,handler,!1):elem.attachEvent&&elem.attachEvent("on"+type,handler)}function triggerEvent(event){event.direction=this._direction,this._options.callback.call(this,event)}Module.prototype={constructor:Module,turnOn:function(){return this._isWorking=!0,this},turnOff:function(){return this._isWorking=!1,this},setOptions:function(options){return this._options=extend(this._options,options),this},getOption:function(option){var neededOption=this._options[option];if(void 0!==neededOption)return neededOption;throw new Error("Unknown option")},destroy:function(){var elem,type,handler;return elem=this._options.elem,type=eventWheel,handler=this._wheelHandler,elem.removeEventListener?elem.removeEventListener(type,handler,!1):elem.detachEvent&&elem.detachEvent("on"+type,handler),this}};var getDeltaY=function(event){return(getDeltaY=event.wheelDelta&&!event.deltaY?function(event){return-1*event.wheelDelta}:function(event){return event.deltaY})(event)};function extend(defaults,options){var prop,extended={};for(prop in defaults)Object.prototype.hasOwnProperty.call(defaults,prop)&&(extended[prop]=defaults[prop]);for(prop in options)Object.prototype.hasOwnProperty.call(options,prop)&&(extended[prop]=options[prop]);return extended}return Module}(window,document);function randomInt(max,min){return void 0===min&&(min=0),Math.floor(random(max,min))}function random(max,min){return void 0===min&&(min=0),Math.random()*(max-min)+min}function importSVG(svgName,target,callback){$.get("img/"+svgName+".svg",function(data){target.append($(data).contents()),void 0!==callback&&callback()})}"object"==typeof exports&&(module.exports=WheelIndicator),$(document).ready(function(){$(".start-top__first"),$(".start-top__second"),$(".start-bottom"),$(".start-helium"),$(".start-hydrogen");introOpening();var indicator=new WheelIndicator({elem:document.querySelector("body"),callback:function(e){if(animation<animationFunctions.length){indicator.turnOff(),setTimeout(restartScroll,2e3);var currentFunction=animationFunctions[animation];currentFunction.func(currentFunction.argument),animation+=1}}});function restartScroll(){indicator.turnOn()}indicator.getOption("preventMouse"),$("body").bind("touchmove",function(e){e.preventDefault()});var animation=0,animationFunctions=[{func:introToStart},{func:startToCircleText},{func:elementsCreation,argument:importSVG},{func:oneStar,argument:importSVG},{func:centralStarStart,argument:importSVG},{func:centralStarSupernova},{func:centralStarOne},{func:centralStarSwitch,argument:[importSVG,"star-start","star-outer-collapse"]}];$("#circle-text").circleType({radius:220,dir:-1});for(var i=22;i<=43;i++)$("#circle-text .char"+i).addClass("yellow");$("#proto-text").circleType({radius:70,dir:-1})});